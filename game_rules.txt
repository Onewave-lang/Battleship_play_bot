Морской бой 15×15 (3 игрока, единое поле) — полные правила (авто‑расстановка)
Общие положения

Игроков: трое.

Поле: одно общее 15×15, координаты — строки 1–15, столбцы A–O.

Флот каждого игрока: классический набор из 10 кораблей: 1 × четырёхпалубный, 2 × трёхпалубных, 3 × двухпалубных, 4 × однопалубных.

Цель игры: уничтожить флот двух соперников и остаться единственным с живыми сегментами.

Цветовая маркировка: каждому игроку система присваивает один из трёх цветов (светло-синий, светло-зеленый, светло-оранжевый). Все корабли и их сегменты отображаются с учётом этого цвета.

Расстановка

Корабли всех трёх игроков расставляются автоматически ботом перед началом боя.

Условие: корабли не пересекаются и не соприкасаются ни сторонами, ни углами, даже между разными игроками.

Для этого бот использует глобальную маску запретов и размещает корабли по порядку от длинных к коротким.

Если генерация невозможна, система автоматически делает перезапуск до получения корректной конфигурации.



Ходы

Стартовый порядок определяется случайно или фиксированно (A→B→C). Затем ход идёт по кругу.

Правило попадания: попадание даёт право на следующий выстрел; промах передаёт ход следующему игроку.

Как совершается ход:

Игрок вводит координату текстом.

Бот проверяет корректность и применяет результат.

Запреты:

Нельзя стрелять по собственным кораблям.

Нельзя стрелять по уже открытой клетке. Клетки непосредственно вокруг  полностью уничтоженного корабля автоматически считаются уже открытыми тоже.

Нельзя делать ход, если очередь не ваша.

Результаты выстрелов

а. Отображения последнего хода

Мимо: в клетке помещается маленький красный кружок.   Такое обозначение держится один ход,  после совершения любого ближашего следующего хода, маленький кружок в этой клетке становится черным.

Попадание: сегмент корабля закрашивается красным.

Потопление корабля: во всех клетках корабля рисуетс эмодзи бомбочки, а клетки по его периметру автоматически обозначаются обстреленными (черный маленький кружок).

б. Отображение по истечению нового следующего хода

После того как  прошел один следующий ход, обозначения меняются на следующие

Мимо: все такие клетки обозначены черным маленьким кружком

Попадание:  более темный или яркий оттенок соответствующего цвета игрока (синий, зеленый, оранживый)

Потопление корабля:  все клетки корабля - более темный или яркий оттенок соответствующего цвета игрока (синий, зеленый, оранживый). Все клетки по периметру - черные кружки и недоступны для ходов.

Видимость информации

Каждый игрок всегда видит свои корабли (состояние цел/подбит/потоплен).  Когда корабль любого игрока был потоплен - все клетки непосредственно вокруг этого корабля сразу превращаются в "простреленные" то есть обозначаются
черным кружком для всех игроков. 

Чужие корабли остаются скрытыми до попадания.

Полная история выстрелов (мимо/попадания/потопления) отображается на общей доске и видна всем.

Элиминация и победа

Когда у игрока уничтожены все корабли, он выбывает. Бот сообщает: «⛔ Игрок N выбыл (флот уничтожен)».

Игра продолжается до тех пор, пока в живых остаётся только один игрок.

Победитель: последний игрок с живыми сегментами. Второе место -  тот кто выбыл из игры последним. 
