# Задача: показать контур и потопленный корабль после уничтожения бота

**Проблема**

В тестовой игре втроем (два бота и игрок) после уничтожения корабля бота на доске не всегда остаются контур обстрела и метки потопленного судна. 
Причина: `_auto_play_bots` запускает следующий выстрел бота через `asyncio.create_task`, и новое значение `last_highlight` перезаписывает предыдущее, пока оно ещё отправляется игроку.

**Требование**

После уничтожения корабля контур и отметка потопленного судна должны появляться на доске и не исчезать до начала следующего хода.

**Направления решения**

- синхронизировать отправку состояния и запуск следующего выстрела бота;
- дождаться завершения рассылки состояния перед новым выстрелом;
- буферизовать историю ходов, чтобы `last_highlight` не перезаписывался преждевременно.
